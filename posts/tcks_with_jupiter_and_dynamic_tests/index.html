<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Sergei Egorov">
    <meta name="description" content="Sergei Egorov&#39;s personal website">
    

    <base href="https://bsideup.github.io">
    <title>
  Writing TCKs with JUnit Jupiter&#39;s Dynamic Tests · A guy with &#39;Ego&#39; in his name
</title>

    <link rel="canonical" href="https://bsideup.github.io/posts/tcks_with_jupiter_and_dynamic_tests/">

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700|Merriweather:300,700|Source+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://bsideup.github.io/css/coder.min.cd087ace86754b082dec94545567f8361cba42e84f8e15edbc4a9f6e52bd1f6a.css" integrity="sha256-zQh6zoZ1Swgt7JRUVWf4Nhy6QuhPjhXtvEqfblK9H2o=" crossorigin="anonymous" media="screen" />
    

    

    

    

    <link rel="icon" type="image/png" href="https://bsideup.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://bsideup.github.io/images/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.53" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://bsideup.github.io">
      A guy with &#39;Ego&#39; in his name
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://bsideup.github.io/posts/">Blog</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Writing TCKs with JUnit Jupiter&#39;s Dynamic Tests</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-03-16T16:25:49&#43;01:00'>
                March 16, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              6 minutes read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://bsideup.github.io/tags/java/">java</a>
      <span class="separator">•</span>
    <a href="https://bsideup.github.io/tags/junit/">junit</a>
      <span class="separator">•</span>
    <a href="https://bsideup.github.io/tags/testing/">testing</a></div>

        </div>
      </header>

      <div>
        

<p>When you develop a library that provides some abstraction, or write a spec, it is a good practice to include
a TCK (Technology Compatibility Kit) that the implementers can use to verify the behavior of their implementation
and how well it matches the spec.</p>

<p>You may find various TCKs out there, e.g. <a href="https://github.com/reactive-streams/reactive-streams-jvm/tree/master/tck" target="_blank">the Reactive Streams TCK</a>.</p>

<h1 id="i-just-need-something-to-test">I just need something to test</h1>

<p>Let&rsquo;s start with a simple example first. Consider we have the following contract defined:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Action</span><span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">,</span> O<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>

	<span style="color:#6272a4">/**
</span><span style="color:#6272a4">	 * Applies transformation to the provided stream.
</span><span style="color:#6272a4">	 * The result MUST NOT emit null.
</span><span style="color:#6272a4">	 * If error happens, it MUST be of {@link ActionException} type.
</span><span style="color:#6272a4">	 *
</span><span style="color:#6272a4">	 * @param input source {@link Stream}
</span><span style="color:#6272a4">	 * @return transformed {@link Stream}
</span><span style="color:#6272a4">	 * @throws ActionException on error
</span><span style="color:#6272a4">	 */</span>
	Stream<span style="color:#ff79c6">&lt;</span>O<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">&gt;</span> input<span style="color:#ff79c6">)</span> <span style="color:#8be9fd;font-style:italic">throws</span> ActionException<span style="color:#ff79c6">;</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>It looks like we have a framework that allows us to implement some actions on <code>java.util.stream.Stream</code>.</p>

<p>Let&rsquo;s write such action:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingAction</span><span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">,</span> O<span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">implements</span> Action<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">,</span> O<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>

	<span style="color:#8be9fd;font-style:italic">final</span> Function<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">,</span> O<span style="color:#ff79c6">&gt;</span> mapper<span style="color:#ff79c6">;</span>

	<span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">MappingAction</span><span style="color:#ff79c6">(</span>Function<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">,</span> O<span style="color:#ff79c6">&gt;</span> mapper<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">mapper</span> <span style="color:#ff79c6">=</span> mapper<span style="color:#ff79c6">;</span>
	<span style="color:#ff79c6">}</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>O<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">&gt;</span> input<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> input<span style="color:#ff79c6">.</span><span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>it <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			O result <span style="color:#ff79c6">=</span> mapper<span style="color:#ff79c6">.</span><span style="color:#50fa7b">apply</span><span style="color:#ff79c6">(</span>it<span style="color:#ff79c6">);</span>
			<span style="color:#ff79c6">if</span> <span style="color:#ff79c6">(</span>result <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
				<span style="color:#ff79c6">throw</span> <span style="color:#ff79c6">new</span> ActionException<span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> NullPointerException<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;result&#34;</span><span style="color:#ff79c6">));</span>
			<span style="color:#ff79c6">}</span>
			<span style="color:#ff79c6">return</span> result<span style="color:#ff79c6">;</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>As you can see, we&rsquo;ve attempted to implement it correctly after reading the javadoc.
But documentation is not always up to date and may not have all the edge cases mentioned.</p>

<p>Let&rsquo;s write a test for it!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingActionTests</span> <span style="color:#ff79c6">{</span>

	@Test
	<span style="color:#8be9fd">void</span> <span style="color:#50fa7b">shouldMap</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		var source <span style="color:#ff79c6">=</span> Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Hello&#34;</span><span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;World&#34;</span><span style="color:#ff79c6">);</span>

		var action <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toUpperCase</span><span style="color:#ff79c6">());</span>

		var result <span style="color:#ff79c6">=</span> action<span style="color:#ff79c6">.</span><span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>source<span style="color:#ff79c6">);</span>

		assertThat<span style="color:#ff79c6">(</span>result<span style="color:#ff79c6">).</span><span style="color:#50fa7b">containsExactly</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;HELLO&#34;</span><span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;WORLD&#34;</span><span style="color:#ff79c6">);</span>
	<span style="color:#ff79c6">}</span></code></pre></div>
<p>Yay! It works! Here we test the concrete behavior of this <code>Action</code>.</p>

<p>But do we actually test that our <code>Action</code> conforms to the contract?<br />
And, a better question would be: do we really want to write (or&hellip; repeat, in fact) tests for checking that?</p>

<p>This is where a TCK would be helpful!</p>

<h1 id="writing-a-tck-with-junit">Writing a TCK with JUnit</h1>

<p>Some prefer to write TCKs with TestNG due to how flexible it is. While I have nothing against TestNG, I prefer to use JUnit.</p>

<p>Unfortunatelly, there aren&rsquo;t many resources on how to write &ldquo;abstact&rdquo; test suites with JUnit.<br />
(btw, this statement is always true. There can&rsquo;t be too many resources about testing! =P)</p>

<blockquote>
<p>⚠️ <strong>WARNING!</strong><br />
I will describe how I prefer to write such tests in JUnit Jupiter.<br />
This is not the only way to do so (e.g. you can extend from a common class or use helpers).<br />
You have been warned!</p>
</blockquote>

<p>Since the TCK tests should be reusable, I will use JUnit&rsquo;s support for interfaces and default methods.</p>

<p>We will test the tricky part first - exception handling:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ActionExceptionsTest</span> <span style="color:#ff79c6">{</span>

	Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">createFaultyInput</span><span style="color:#ff79c6">();</span>

	Action<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">,</span> Object<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">createFailingAction</span><span style="color:#ff79c6">();</span>

	@Test
	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">shouldAlwaysWrapExceptions</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		assertThrows<span style="color:#ff79c6">(</span>ActionException<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">,</span> <span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> input <span style="color:#ff79c6">=</span> createFaultyInput<span style="color:#ff79c6">();</span>

			Action<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">,</span> Object<span style="color:#ff79c6">&gt;</span> action <span style="color:#ff79c6">=</span> createFailingAction<span style="color:#ff79c6">();</span>

            <span style="color:#6272a4">// Trigger it
</span><span style="color:#6272a4"></span>			action<span style="color:#ff79c6">.</span><span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>input<span style="color:#ff79c6">).</span><span style="color:#50fa7b">limit</span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">).</span><span style="color:#50fa7b">toArray</span><span style="color:#ff79c6">();</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>As you can see, we need to ask the user to provide something that we can&rsquo;t <em>assume</em> about the implementation:</p>

<ol>
<li>faulty input that should trigger the error</li>
<li>an action that is supposed to fail</li>
</ol>

<p>How can we run this test? Easy! Just implement it in <code>MappingActionTests</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingActionTests</span> <span style="color:#8be9fd;font-style:italic">implements</span> ActionExceptionsTest <span style="color:#ff79c6">{</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">createFaultyInput</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">null</span><span style="color:#ff79c6">);</span>
	<span style="color:#ff79c6">}</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Action<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">,</span> Object<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">createFailingAction</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">());</span>
	<span style="color:#ff79c6">}</span>

	@Test
	<span style="color:#8be9fd">void</span> <span style="color:#50fa7b">shouldMap</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
        <span style="color:#6272a4">// ...
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">}</span></code></pre></div>
<p>But what if we need more parameters (e.g. expected output)? Let&rsquo;s add a concept of &ldquo;Scenario&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Scenario</span> <span style="color:#ff79c6">{</span>

    String name<span style="color:#ff79c6">;</span>

	Action<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">,</span> Object<span style="color:#ff79c6">&gt;</span> action<span style="color:#ff79c6">;</span>

	Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> input<span style="color:#ff79c6">;</span>

	Consumer<span style="color:#ff79c6">&lt;</span>ListAssert<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;&gt;</span> expect<span style="color:#ff79c6">;</span></code></pre></div>
<p>So that we can change out code to:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingActionTests</span> <span style="color:#8be9fd;font-style:italic">implements</span> ActionExceptionsTest <span style="color:#ff79c6">{</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Scenario <span style="color:#50fa7b">createFailingScenario</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;returns null&#34;</span><span style="color:#ff79c6">)</span>
				<span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;foo&#34;</span><span style="color:#ff79c6">))</span>
				<span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">))</span>
				<span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">();</span>
	<span style="color:#ff79c6">}</span>

	@Test
	<span style="color:#8be9fd">void</span> <span style="color:#50fa7b">shouldMap</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
        <span style="color:#6272a4">// ...
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">}</span></code></pre></div>
<p>It is passing again (since we handle <code>null</code> after applying the mapper).
But we only check one scenario when an <code>Action</code> may throw, what about others?</p>

<h1 id="parameterize-all-the-things">Parameterize all the things!</h1>

<p>We <strong>could</strong> create more tests, but they will follow the same pattern and it would be nice to parameterize them.</p>

<p>JUnit Jupiter <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests" target="_blank">does support Parameterized Tests</a>,
but, if we want the parameters factory to be a method, it must be static. It does not really work for us, since we let the end users implement them.</p>

<p>Instead, we will be using another feature of JUnit Jupiter - <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests" target="_blank">Dynamic Tests</a>.</p>

<p>Before we change our <code>ActionExceptionsTest</code> test, I suggest introducing a base interface for our TCK tests:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ActionTestSupport</span> <span style="color:#ff79c6">{</span>

	Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">successfulScenarios</span><span style="color:#ff79c6">();</span>

	Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">failingScenarios</span><span style="color:#ff79c6">();</span>

	<span style="color:#ff79c6">default</span> Stream<span style="color:#ff79c6">&lt;</span>DynamicTest<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">toDynamicTests</span><span style="color:#ff79c6">(</span>
        Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> scenarios<span style="color:#ff79c6">,</span>
        ThrowingConsumer<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> executable
    <span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> scenarios<span style="color:#ff79c6">.</span><span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>scenario <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			<span style="color:#ff79c6">return</span> dynamicTest<span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">(),</span> executable<span style="color:#ff79c6">);</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>Note that we define two sets of scenarious that we can reuse later.</p>

<p>Now we can use it as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ActionExceptionsTest</span> <span style="color:#8be9fd;font-style:italic">extends</span> ActionTestSupport <span style="color:#ff79c6">{</span>

	@TestFactory
	<span style="color:#ff79c6">default</span> Stream<span style="color:#ff79c6">&lt;</span>DynamicTest<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">shouldAlwaysWrapExceptions</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> toDynamicTests<span style="color:#ff79c6">(</span>failingScenarios<span style="color:#ff79c6">(),</span> scenario <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			assertThrows<span style="color:#ff79c6">(</span>ActionException<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">,</span> <span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
				scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getAction</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getInput</span><span style="color:#ff79c6">()).</span><span style="color:#50fa7b">limit</span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">).</span><span style="color:#50fa7b">toArray</span><span style="color:#ff79c6">();</span>
			<span style="color:#ff79c6">});</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>Now we can implement more failing scenarios:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingActionTests</span> <span style="color:#8be9fd;font-style:italic">implements</span> ActionTests <span style="color:#ff79c6">{</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">failingScenarios</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span>
				Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;returns null&#34;</span><span style="color:#ff79c6">)</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;foo&#34;</span><span style="color:#ff79c6">))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">(),</span>

				Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;receives null&#34;</span><span style="color:#ff79c6">)</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">()))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">((</span>Object<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">(),</span>

				Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;throws&#34;</span><span style="color:#ff79c6">)</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
					        <span style="color:#ff79c6">throw</span> <span style="color:#ff79c6">new</span> RuntimeException<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Ooops!&#34;</span><span style="color:#ff79c6">);</span>
				        <span style="color:#ff79c6">}))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;foo&#34;</span><span style="color:#ff79c6">))</span>
				        <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">()</span>
		<span style="color:#ff79c6">);</span>
	<span style="color:#ff79c6">}</span></code></pre></div>
<p>And guess what? Our implementation is only 33% correct!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">@Override
<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>O<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">&lt;</span>I<span style="color:#ff79c6">&gt;</span> input<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">return</span> input<span style="color:#ff79c6">.</span><span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>it <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
        O result <span style="color:#ff79c6">=</span> mapper<span style="color:#ff79c6">.</span><span style="color:#50fa7b">apply</span><span style="color:#ff79c6">(</span>it<span style="color:#ff79c6">);</span>
        <span style="color:#ff79c6">if</span> <span style="color:#ff79c6">(</span>result <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
            <span style="color:#ff79c6">throw</span> <span style="color:#ff79c6">new</span> ActionException<span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> NullPointerException<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;result&#34;</span><span style="color:#ff79c6">));</span>
        <span style="color:#ff79c6">}</span>
        <span style="color:#ff79c6">return</span> result<span style="color:#ff79c6">;</span>
    <span style="color:#ff79c6">});</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>We did wrap the NPE with <code>ActionException</code> but forgot to wrap <code>mapper.apply</code> which is a user-provided function that we cannot control.</p>

<h1 id="improving-the-dx">Improving the DX</h1>

<p>If you run the tests in the IDE, you may notice that the tests have nice names:
<center>
<img src="https://bsideup.github.io/images/tcks_with_jupiter_and_dynamic_tests/dynamic_test_results.png" alt="VNC" />
</center></p>

<p>.. but it is impossible to go to the scenario definition from a test run.</p>

<p>No surprise, since we generate the test cases dynamically and IDE or JUnit have no idea about it.</p>

<p>To workaround that, we will use the following trick:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Scenario</span> <span style="color:#ff79c6">{</span>

	<span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> ScenarioBuilder <span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span>String name<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
		StackTraceElement<span style="color:#ff79c6">[]</span> stackTrace <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Exception<span style="color:#ff79c6">().</span><span style="color:#50fa7b">getStackTrace</span><span style="color:#ff79c6">();</span>
		<span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> ScenarioBuilder<span style="color:#ff79c6">().</span><span style="color:#50fa7b">frame</span><span style="color:#ff79c6">(</span>stackTrace<span style="color:#ff79c6">[</span>1<span style="color:#ff79c6">]).</span><span style="color:#50fa7b">name</span><span style="color:#ff79c6">(</span>name<span style="color:#ff79c6">);</span>
	<span style="color:#ff79c6">}</span>

    <span style="color:#6272a4">// ...
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">}</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ActionTestSupport</span> <span style="color:#ff79c6">{</span>

	<span style="color:#ff79c6">default</span> Stream<span style="color:#ff79c6">&lt;</span>DynamicTest<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">toDynamicTests</span><span style="color:#ff79c6">(</span>
        Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> scenarios<span style="color:#ff79c6">,</span>
        ThrowingConsumer<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> executable
    <span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> scenarios<span style="color:#ff79c6">.</span><span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>scenario <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			<span style="color:#ff79c6">return</span> dynamicTest<span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">(),</span> <span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
				System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Scenario defined at &#34;</span> <span style="color:#ff79c6">+</span> scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getFrame</span><span style="color:#ff79c6">());</span>
				executable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">accept</span><span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">);</span>
			<span style="color:#ff79c6">});</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span></code></pre></div>
<p>Now every test will have a link to the scenario definition and some IDEs will make it clickable:
<center>
<img src="https://bsideup.github.io/images/tcks_with_jupiter_and_dynamic_tests/file_link.png" alt="VNC" />
</center></p>

<h1 id="going-forward">Going forward</h1>

<p>It may not be the only approach to write TCKs with JUnit Jupiter (if you think that you have a better one, please do share it in the comments!),
but I like how it works and how it scales.</p>

<p>You can easily add more cases:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ParallelStreamsTest</span> <span style="color:#8be9fd;font-style:italic">extends</span> ActionTestSupport <span style="color:#ff79c6">{</span>

	@TestFactory
	<span style="color:#ff79c6">default</span> Stream<span style="color:#ff79c6">&lt;</span>DynamicTest<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">shouldWorkWithParallelStreams</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> toDynamicTests<span style="color:#ff79c6">(</span>successfulScenarios<span style="color:#ff79c6">(),</span> scenario <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
			Consumer<span style="color:#ff79c6">&lt;</span>ListAssert<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;&gt;</span> expect <span style="color:#ff79c6">=</span> scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getExpect</span><span style="color:#ff79c6">();</span>

			Assumptions<span style="color:#ff79c6">.</span><span style="color:#50fa7b">assumeTrue</span><span style="color:#ff79c6">(</span>expect <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;expect is provided&#34;</span><span style="color:#ff79c6">);</span>

			Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> input <span style="color:#ff79c6">=</span> scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getInput</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">parallel</span><span style="color:#ff79c6">();</span>

			Stream<span style="color:#ff79c6">&lt;</span>Object<span style="color:#ff79c6">&gt;</span> result <span style="color:#ff79c6">=</span> scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getAction</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">perform</span><span style="color:#ff79c6">(</span>input<span style="color:#ff79c6">);</span>

			<span style="color:#ff79c6">if</span> <span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getLimit</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">null</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
				result <span style="color:#ff79c6">=</span> result<span style="color:#ff79c6">.</span><span style="color:#50fa7b">limit</span><span style="color:#ff79c6">(</span>scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getLimit</span><span style="color:#ff79c6">());</span>
			<span style="color:#ff79c6">}</span>

			expect<span style="color:#ff79c6">.</span><span style="color:#50fa7b">accept</span><span style="color:#ff79c6">(</span>assertThat<span style="color:#ff79c6">(</span>result<span style="color:#ff79c6">));</span>
		<span style="color:#ff79c6">});</span>
	<span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span></code></pre></div>
<p>and you can &ldquo;group&rdquo; them too:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">ActionTests</span> <span style="color:#8be9fd;font-style:italic">extends</span> ActionExceptionsTest<span style="color:#ff79c6">,</span> ParallelStreamsTest <span style="color:#ff79c6">{</span>

<span style="color:#ff79c6">}</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MappingActionTests</span> <span style="color:#8be9fd;font-style:italic">implements</span> ActionTests <span style="color:#ff79c6">{</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">successfulScenarios</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
		<span style="color:#ff79c6">return</span> Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span>
            Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;two items&#34;</span><span style="color:#ff79c6">)</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toUpperCase</span><span style="color:#ff79c6">()))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;hello&#34;</span><span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;world&#34;</span><span style="color:#ff79c6">))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">expect</span><span style="color:#ff79c6">(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">containsExactlyInAnyOrder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;HELLO&#34;</span><span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;WORLD&#34;</span><span style="color:#ff79c6">))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">(),</span>

            Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;empty&#34;</span><span style="color:#ff79c6">)</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toUpperCase</span><span style="color:#ff79c6">()))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">of</span><span style="color:#ff79c6">())</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">expect</span><span style="color:#ff79c6">(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">isEmpty</span><span style="color:#ff79c6">())</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">(),</span>

            Scenario<span style="color:#ff79c6">.</span><span style="color:#50fa7b">builder</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;infinite stream&#34;</span><span style="color:#ff79c6">)</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">action</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> MappingAction<span style="color:#ff79c6">&lt;&gt;(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toUpperCase</span><span style="color:#ff79c6">()))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">input</span><span style="color:#ff79c6">(</span>Stream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">generate</span><span style="color:#ff79c6">(()</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#f1fa8c">&#34;hello&#34;</span><span style="color:#ff79c6">))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">limit</span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">)</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">expect</span><span style="color:#ff79c6">(</span>it <span style="color:#ff79c6">-&gt;</span> it<span style="color:#ff79c6">.</span><span style="color:#50fa7b">startsWith</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;HELLO&#34;</span><span style="color:#ff79c6">))</span>
                    <span style="color:#ff79c6">.</span><span style="color:#50fa7b">build</span><span style="color:#ff79c6">()</span>
		<span style="color:#ff79c6">);</span>
	<span style="color:#ff79c6">}</span>

	@Override
	<span style="color:#8be9fd;font-style:italic">public</span> Stream<span style="color:#ff79c6">&lt;</span>Scenario<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">failingScenarios</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
        <span style="color:#6272a4">// ...
</span><span style="color:#6272a4"></span>	<span style="color:#ff79c6">}</span>

    <span style="color:#6272a4">// ...
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">}</span></code></pre></div>
      </div>

      <footer>
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bsideup-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
     © 2024
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-131448346-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  </body>

</html>
